<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<title>Whitworth Calculator</title>

<link rel="icon" type="image/x-icon" href="pi-rat.png">

<link rel='stylesheet' href='calculator.css'>

<script lang="javascript">

	//so we're initializing these, because we're using them later, right?
	//when the user hits an operator, we need to store the current display
	var leftnum = 0
	//we will also store the operator the user chose
	var op = ''


    function clicknum(btn) {
        var num = btn.innerHTML
        var disp = document.getElementById('display')
        var x = parseInt(disp.innerHTML)
        if (isNaN(x))
            disp.innerHTML = ''
		if 	(disp.innerHTML == '0')
			disp.innerHTML = num
        else
            disp.innerHTML = disp.innerHTML + num
    }

    function clickce() {
        var disp = document.getElementById('display')
        disp.innerHTML = '0'
    }

	function op_click(btn) {
		//store the contents of the display
		var disp = document.getElementById('display')
		leftnum = parseInt(disp.innerHTML)
		//store the operator we'll work with
		op = btn.innerHTML
		//clear the display
		disp.innerHTML = '0'
	}

	function eq_click() {
		//if there's no operator stored, don't do anything
		if(op != ''){
			//get the display value as the right side of the equation
			var disp = document.getElementById('display')
			var rightnum = parseInt(disp.innerHTML)
			var res = 0
			//perform the correct operation based on the operator
			if (op == '+')
				res = leftnum + rightnum
			else if (op == '-')
				res = leftnum - rightnum
			else if (op == '*')
				res = leftnum * rightnum
			else if (op == '/')
				res = leftnum / rightnum

			//update the display
			disp.innerHTML = res.toString()
			//clear the operator
			op = ''

			if (disp.innerHTML < 50)
				var eyeSize = disp.innerHTML
			else
				var eyeSize = 100
			var c = document.getElementById("myCanvas");
			var ctx = c.getContext("2d");
			ctx.beginPath();
			ctx.arc(95, 50, eyeSize, 0, 2 * Math.PI);
			ctx.fill();

		}
	}


</script>

</head>

<body>
	<div class="main">
		<h1 style="text-align:center">Ï€-rats Calculator</h1>
		<div class = 'ratdiv'>
			<!--<img src = 'eyes/eye00.png' id = 'rat'></img>-->
			<canvas id="myCanvas" width="200" height="100" style="border:1px solid black" style="background: url('eyes/eye00.png')">
			</canvas>
		</div>
		<div class = 'tablediv'>
			<table class = 'table'>
				<div class="display-bg">
					<p id="display"></p>
				</div>
				<tr>
					<td><button class="number" onclick="clicknum(this)">7</button></td>
					<td><button class="number" onclick="clicknum(this)">8</button></td>
					<td><button class="number" onclick="clicknum(this)">9</button></td>
					<td><button class="op" onclick="op_click(this)">+</button></td>
					<!--<td><button class="op" onclick="op_click(this)">%</button></td>-->
				</tr>
				<tr>
					<td><button class="number" onclick="clicknum(this)">4</button></td>
					<td><button class="number" onclick="clicknum(this)">5</button></td>
					<td><button class="number" onclick="clicknum(this)">6</button></td>
					<td><button class="op" onclick="op_click(this)">-</button></td>
					<!--<td><button class="op" onclick="factorial()">!</button></td>-->
				</tr>
				<tr>
					<td><button class="number" onclick="clicknum(this)">1</button></td>
					<td><button class="number" onclick="clicknum(this)">2</button></td>
					<td><button class="number" onclick="clicknum(this)">3</button></td>
					<td><button class="op" onclick="op_click(this)">*</button></td>
					<!--<td><button class="op" onclick="op_click(this)">^</button></td>-->
				</tr>
				<tr>
					<td><button class="number" onclick="clicknum(this)">0</button></td>
					<td><button class="number" onclick="clickce()">CE</button></td>
					<td><button class="op" onclick="eq_click()">=</button></td>
					<td><button class="op" onclick="op_click(this)">/</button></td>
					<!--<td><button class="op" onclick="op_click(this)">?</button></td>-->
			</table>
		</div>

		
	</div>
</body>

</html>





