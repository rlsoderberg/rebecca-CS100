<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<title>Whitworth Calculator</title>

<link rel="icon" type="image/x-icon" href="pi-rat.png">

<link rel='stylesheet' href='calculator.css'>

<script lang="javascript">

	//so we're initializing these, because we're using them later, right?
	//when the user hits an operator, we need to store the current display
	var leftnum = 0
	//we will also store the operator the user chose
	var op = ''


    function clicknum(btn) {
        var num = btn.innerHTML
        var disp = document.getElementById('display')
        var x = parseInt(disp.innerHTML)
        if (isNaN(x))
            disp.innerHTML = ''
		if 	(disp.innerHTML == '0')
			disp.innerHTML = num
        else
            disp.innerHTML = disp.innerHTML + num
		//is this working or something???
		ctx.arc(50, 50, 0, 0, 2 * Math.PI);
    }

    function clickce() {
        var disp = document.getElementById('display')
        disp.innerHTML = '0'
    }

	function op_click(btn) {
		//store the contents of the display
		var disp = document.getElementById('display')
		leftnum = parseInt(disp.innerHTML)
		//store the operator we'll work with
		op = btn.innerHTML
		//clear the display
		disp.innerHTML = '0'
	}

	function eq_click() {
		//if there's no operator stored, don't do anything
		if(op != ''){
			//get the display value as the right side of the equation
			var disp = document.getElementById('display')
			var rightnum = parseInt(disp.innerHTML)
			var res = 0
			//perform the correct operation based on the operator
			if (op == '+')
				res = leftnum + rightnum
			else if (op == '-')
				res = leftnum - rightnum
			else if (op == '*')
				res = leftnum * rightnum
			else if (op == '/')
				res = leftnum / rightnum

			//update the display
			disp.innerHTML = res.toString()
			//clear the operator
			op = ''

			if (res < 46)
				var eyeSize = res
			else
				var eyeSize = 45
			var c = document.getElementById("myCanvas");
			var ctx = c.getContext("2d");
			ctx.clearRect(0, 0, 200, 150);
			ctx.beginPath();
			ctx.arc(50, 50, res, 0, 2 * Math.PI);
			ctx.fillStyle = "rgba(194, 32, 51, 1)";
			ctx.fill();


		}
	}


</script>

</head>

<body>
	



	<div id="parent">

		<div class="child">
			<div class = 'titlediv'><h1 class = 'title' style="text-align:center">Ï€-rats Calculator</h1></div>
		</div>

		<div class="child">

			<div class="main">

				<div class = 'ratdiv'>
					<img src = 'eyes/eye25.png' id = 'rat'></img>
					<img src = 'tenor.gif' id = 'negative'></img>
				</div>

				<div class = 'tablediv'>
					<table class = 'table'>
						<div class="display-bg">
							<p id="display"></p>
						</div>
						<tr>
							<td><button class="number" onclick="clicknum(this)">7</button></td>
							<td><button class="number" onclick="clicknum(this)">8</button></td>
							<td><button class="number" onclick="clicknum(this)">9</button></td>
							<td><button class="op" onclick="op_click(this)">+</button></td>
							<!--<td><button class="op" onclick="op_click(this)">%</button></td>-->
						</tr>
						<tr>
							<td><button class="number" onclick="clicknum(this)">4</button></td>
							<td><button class="number" onclick="clicknum(this)">5</button></td>
							<td><button class="number" onclick="clicknum(this)">6</button></td>
							<td><button class="op" onclick="op_click(this)">-</button></td>
							<!--<td><button class="op" onclick="factorial()">!</button></td>-->
						</tr>
						<tr>
							<td><button class="number" onclick="clicknum(this)">1</button></td>
							<td><button class="number" onclick="clicknum(this)">2</button></td>
							<td><button class="number" onclick="clicknum(this)">3</button></td>
							<td><button class="op" onclick="op_click(this)">*</button></td>
							<!--<td><button class="op" onclick="op_click(this)">^</button></td>-->
						</tr>
						<tr>
							<td><button class="number" onclick="clicknum(this)">0</button></td>
							<td><button class="number" onclick="clickce()">CE</button></td>
							<td><button class="op" onclick="eq_click()">=</button></td>
							<td><button class="op" onclick="op_click(this)">/</button></td>
							<!--<td><button class="op" onclick="op_click(this)">?</button></td>-->
					</table>
				</div>
				<div class = 'circle-div'>
					<canvas id="myCanvas" width="100" height="150" style="border:1px solid black" style="background: url('eyes/eye00.png')">
					</canvas>
				</div>
				
		</div>
		<audio controls loop>
            <source src="equinoxe5.wav" type="audio/wav">
            Your browser does not support the audio element.
        </audio>
		
	</div>

</body>

</html>





